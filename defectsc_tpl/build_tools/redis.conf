# Redis configuration for singleton instance
# Optimized for Docker with data persistence and minimal logging

# Network
bind 0.0.0.0
port 6379
timeout 0
tcp-keepalive 300

# General
daemonize yes
supervised auto
pidfile /var/run/redis_6379.pid
loglevel notice
logfile ""

# Persistence - RDB snapshots only (no AOF)
# Save snapshot every 2 minutes if at least 1 key changed
save 120 1
# Disable more frequent snapshots
#save ""

# RDB file settings
stop-writes-on-bgsave-error yes
rdbcompression yes
rdbchecksum yes
dbfilename dump.rdb
dir /src/build_tools

# Disable AOF (Append Only File) - no transaction log needed
appendonly no

# Memory management
maxmemory-policy allkeys-lru

# Security (uncomment and set password if needed)
# requirepass your-password-here

# Disable dangerous commands in production
# rename-command FLUSHDB ""
# rename-command FLUSHALL ""
# rename-command DEBUG ""

# Client settings
tcp-backlog 511
databases 16

# Slow log
slowlog-log-slower-than 10000
slowlog-max-len 128

